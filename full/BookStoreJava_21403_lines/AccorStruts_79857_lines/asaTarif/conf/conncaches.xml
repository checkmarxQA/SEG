<!DOCTYPE document [
	<!ENTITY jdbc_properties '
        <jdbc-properties>
        		<property>
                <name>DEFAULT_QUERY_TIMEOUT</name>
                <value>180</value>
            </property>
            <property>
                <name>REPEAT_READ</name>
                <value>true</value>
            </property>
            <property>
                <name>DISABLE_UNPROCESSED_PARAM_WARNINGS</name>
                <value>true</value> 
            </property>
            <property>
                <name>CONNECTION_FAILOVER</name>
                <value>true</value>
            </property>
            <property>
                <name>DYNAMIC_PREPARE</name>
                <value>false</value>
            </property>  
            <property>
                <name>ESCAPE_PROCESSING_DEFAULT</name>
                <value>true</value>
            </property>    
            <property>
                <name>IGNORE_DONE_IN_PROC</name>
                <value>false</value>
            </property>          
            <property>
                <name>IS_CLOSED_TEST</name>
                <value>select 1</value>
            </property>
        </jdbc-properties>
        '>
]>

<connection-pools>
    <connection-pool>
        <name>asaPool</name>
        <!-- fichier dans le classpath -->
        <init-sql-file></init-sql-file>
        <user-name>@USER_BD_ASA@</user-name>
        <valid-sql-query>select 1</valid-sql-query>
        <!-- sybaseServername pour chaine ldap -->
        <server-name>asaPool</server-name>
        <!-- minimum en idle -->
        <min-idle>4</min-idle>
        <!-- max active -->
        <max-active>40</max-active>
        <!-- max wait en ms -->
        <max-wait>10000</max-wait>
        <!-- exhausted action -->
        <!--
           BLOCK : attend max wait avant de jeter
           FAIL : jete directement
           GROW : augemente
        -->
        <exhausted-action>BLOCK</exhausted-action>
        &jdbc_properties;
        <removeAbandoned>true</removeAbandoned>
        <!-- en secondes -->
        <removeAbandonedTimeout>190</removeAbandonedTimeout>
        <logAbandoned>false</logAbandoned>
    </connection-pool>
	
	<connection-pool>
        <name>tarsVentePool</name>
        <!-- fichier dans le classpath -->
        <init-sql-file></init-sql-file>
        <user-name>@USER_BD_VENTE_TARS@</user-name>
        <valid-sql-query>select 1</valid-sql-query>
        <!-- sybaseServername pour chaine ldap -->
        <server-name>tarsVentePool</server-name>
        <!-- minimum en idle -->
        <min-idle>4</min-idle>
        <!-- max active -->
        <max-active>10</max-active>
        <!-- max wait en ms -->
        <max-wait>10000</max-wait>
        <!-- exhausted action -->
        <!--
           BLOCK : attend max wait avant de jeter
           FAIL : jete directement
           GROW : augemente
        -->
        <exhausted-action>BLOCK</exhausted-action>
        &jdbc_properties;
        <removeAbandoned>true</removeAbandoned>
        <!-- en secondes -->
        <removeAbandonedTimeout>190</removeAbandonedTimeout>
        <logAbandoned>false</logAbandoned>
    </connection-pool>
	<connection-pool>
        <name>tarsLocalPool</name>
        <!-- fichier dans le classpath -->
        <init-sql-file></init-sql-file>
        <user-name>@USER_BD_VENTE_TARS@</user-name>
        <valid-sql-query>select 1</valid-sql-query>
        <!-- sybaseServername pour chaine ldap -->
        <server-name>tarsLocalPool</server-name>
        <!-- minimum en idle -->
        <min-idle>4</min-idle>
        <!-- max active -->
        <max-active>10</max-active>
        <!-- max wait en ms -->
        <max-wait>10000</max-wait>
        <!-- exhausted action -->
        <!--
           BLOCK : attend max wait avant de jeter
           FAIL : jete directement
           GROW : augemente
        -->
        <exhausted-action>BLOCK</exhausted-action>
        &jdbc_properties;
        <removeAbandoned>true</removeAbandoned>
        <!-- en secondes -->
        <removeAbandonedTimeout>190</removeAbandonedTimeout>
        <logAbandoned>false</logAbandoned>
    </connection-pool>
	<connection-pool>
        <name>tarsTarifPool</name>
        <!-- fichier dans le classpath -->
        <init-sql-file></init-sql-file>
        <user-name>@USER_BD_TARIF_TARS@</user-name>
        <valid-sql-query>select 1</valid-sql-query>
        <!-- sybaseServername pour chaine ldap -->
        <server-name>tarsTarifPool</server-name>
        <!-- minimum en idle -->
        <min-idle>4</min-idle>
        <!-- max active -->
        <max-active>10</max-active>
        <!-- max wait en ms -->
        <max-wait>10000</max-wait>
        <!-- exhausted action -->
        <!--
           BLOCK : attend max wait avant de jeter
           FAIL : jete directement
           GROW : augemente
        -->
        <exhausted-action>BLOCK</exhausted-action>
        &jdbc_properties;
        <removeAbandoned>true</removeAbandoned>
        <!-- en secondes -->
        <removeAbandonedTimeout>190</removeAbandonedTimeout>
        <logAbandoned>false</logAbandoned>
    </connection-pool>
	<connection-pool>
        <name>asaQBEPool</name>    
        <init-sql-file></init-sql-file>
        <user-name>@USER_BD_QBE@</user-name>
        <valid-sql-query>select 1</valid-sql-query>    
        <server-name>asaQBEPool</server-name>    
        <min-idle>4</min-idle>    
        <max-active>30</max-active>    
        <max-wait>10000</max-wait>    
        <exhausted-action>BLOCK</exhausted-action>
        &jdbc_properties;
        <removeAbandoned>true</removeAbandoned>
        <!-- en secondes -->
        <removeAbandonedTimeout>190</removeAbandonedTimeout>
        <logAbandoned>false</logAbandoned>
    </connection-pool>
	<connection-pool>
        <name>asaExtracteurPool</name>    
        <init-sql-file></init-sql-file>
        <user-name>@USER_BD_EXTRACTEUR@</user-name>
        <valid-sql-query>select 1</valid-sql-query>    
        <server-name>asaExtracteurPool</server-name>    
        <min-idle>4</min-idle>    
        <max-active>10</max-active>    
        <max-wait>10000</max-wait>    
        <exhausted-action>BLOCK</exhausted-action>
        &jdbc_properties;
        <removeAbandoned>true</removeAbandoned>
        <!-- en secondes -->
        <removeAbandonedTimeout>190</removeAbandonedTimeout>
        <logAbandoned>false</logAbandoned>
    </connection-pool>
	<connection-pool>
        <name>asaReportPool</name>    
        <init-sql-file></init-sql-file>
        <user-name>@USER_BD_REPORT@</user-name>
        <valid-sql-query>select 1</valid-sql-query>    
        <server-name>asaReportPool</server-name>    
        <min-idle>4</min-idle>    
        <max-active>10</max-active>    
        <max-wait>10000</max-wait>    
        <exhausted-action>BLOCK</exhausted-action>
        &jdbc_properties;
        <removeAbandoned>true</removeAbandoned>
        <!-- en secondes -->
        <removeAbandonedTimeout>190</removeAbandonedTimeout>
        <logAbandoned>false</logAbandoned>
    </connection-pool>
</connection-pools>